define(["jquery","knockout","./bindingHandler","./utils","jquery-ui/datepicker"],function(e,t,n,r){"use strict";var i=function(){n.call(this,"datepicker"),this.options=["altField","altFormat","appendText","autoSize","buttonImage","buttonImageOnly","buttonText","calculateWeek","changeMonth","changeYear","closeText","constrainInput","currentText","dateFormat","dayNames","dayNamesMin","dayNamesShort","defaultDate","duration","firstDay","gotoCurrent","hideIfNoPrevNext","isRTL","maxDate","minDate","monthNames","monthNamesShort","navigationAsDateFormat","nextText","numberOfMonths","prevText","selectOtherMonths","shortYearCutoff","showAnim","showButtonPanel","showCurrentAtPos","showMonthAfterYear","showOn","showOptions","showOtherMonths","showWeek","stepMonths","weekHeader","yearRange","yearSuffix","beforeShow","beforeShowDay","onChangeMonthYear","onClose","onSelect"],this.hasRefresh=!0};return i.prototype=r.createObject(n.prototype),i.prototype.constructor=i,i.prototype.init=function(r,i){var s,o,u,a,f,l;return s=n.prototype.init.apply(this,arguments),o=this.widgetName,u=i(),a=t.utils.unwrapObservable(u.value),a&&e(r)[o]("setDate",a),t.isObservable(u.value)&&(f=u.value.subscribe(function(t){e(r)[o]("setDate",t)}),t.utils.domNodeDisposal.addDisposeCallback(r,function(){f.dispose()})),t.isWriteableObservable(u.value)&&(l=e(r)[o]("option","onSelect"),e(r)[o]("option","onSelect",function(t){var n,i;n=e(r)[o]("option","dateFormat"),i=e.datepicker.parseDate(n,t),u.value(i),typeof l=="function"&&l.apply(this,Array.prototype.slice.call(arguments))})),s},r.register(i),i});